(()=>{var e={};e.id=548,e.ids=[548],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14952:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(62688).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24959:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=n(65239),a=n(48088),o=n(88170),s=n.n(o),i=n(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);n.d(t,l);let d={children:["",{children:["(main)",{children:["expenses",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,89689)),"/Users/vdk.codes/Desktop/SharePay Assets/share-pay/app/(main)/expenses/new/page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,26481)),"/Users/vdk.codes/Desktop/SharePay Assets/share-pay/app/(main)/layout.jsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.bind(n,32648)),"/Users/vdk.codes/Desktop/SharePay Assets/share-pay/app/layout.js"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/vdk.codes/Desktop/SharePay Assets/share-pay/app/(main)/expenses/new/page.jsx"],u={require:n,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(main)/expenses/new/page",pathname:"/expenses/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},28398:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>rp});var r,a=n(60687),o=n(16189),s=n(43210),i=n(27605),l=n(558),d=n(43214),c=n(68999),u=n(98169),p=n(50570),f=n(82800),m=n(19224),h=n(91168),v=n(52581),x=n(21723),y=n(11860),g=n(23026),b=n(9203),w=n(2869),j=n(81185);function N({participants:e,onParticipantsChange:t}){let{data:n}=(0,u.T)(c.FH.users.getCurrentUser),[r,o]=(0,s.useState)(!1),[i,l]=(0,s.useState)(""),{data:d,isLoading:p}=(0,u.T)(c.FH.users.searchUsers,{query:i}),m=n=>{!e.some(e=>e.id===n.id)&&(t([...e,n]),o(!1),l(""))},h=r=>{r!==n._id&&t(e.filter(e=>e.id!==r))};return(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.map(e=>(0,a.jsxs)(b.E,{variant:"secondary",className:"flex items-center gap-2 px-3 py-2",children:[(0,a.jsxs)(x.Avatar,{className:"h-5 w-5",children:[(0,a.jsx)(x.AvatarImage,{src:e.imageUrl}),(0,a.jsx)(x.AvatarFallback,{children:e.name?.charAt(0)||"?"})]}),(0,a.jsx)("span",{children:e.id===n?._id?"You":e.name||e.email}),e.id!==n?._id&&(0,a.jsx)("button",{type:"button",onClick:()=>h(e.id),className:"ml-1 text-muted-foreground hover:text-foreground",children:(0,a.jsx)(y.A,{className:"h-3 w-3"})})]},e.id)),e.length<2&&(0,a.jsxs)(j.AM,{open:r,onOpenChange:o,children:[(0,a.jsx)(j.Wv,{asChild:!0,children:(0,a.jsxs)(f.$,{variant:"outline",size:"sm",className:"h-8 gap-1 text-xs",type:"button",children:[(0,a.jsx)(g.A,{className:"h-3.5 w-3.5"}),"Add person"]})}),(0,a.jsx)(j.hl,{className:"p-0",align:"start",children:(0,a.jsxs)(w.uB,{children:[(0,a.jsx)(w.G7,{placeholder:"Search by name or email...",value:i,onValueChange:l}),(0,a.jsxs)(w.oI,{children:[(0,a.jsx)(w.xL,{children:i.length<2?(0,a.jsx)("p",{className:"py-3 px-4 text-sm text-center text-muted-foreground",children:"Type at least 2 characters to search"}):p?(0,a.jsx)("p",{className:"py-3 px-4 text-sm text-center text-muted-foreground",children:"Searching..."}):(0,a.jsx)("p",{className:"py-3 px-4 text-sm text-center text-muted-foreground",children:"No users found"})}),(0,a.jsx)(w.L$,{heading:"Users",children:d?.map(e=>a.jsx(w.h_,{value:e.name+e.email,onSelect:()=>m(e),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(x.Avatar,{className:"h-6 w-6",children:[a.jsx(x.AvatarImage,{src:e.imageUrl}),a.jsx(x.AvatarFallback,{children:e.name?.charAt(0)||"?"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm",children:e.name}),a.jsx("span",{className:"text-xs text-muted-foreground",children:e.email})]})]})},e.id))})]})]})})]})]})})}var k=n(16908),_=n(41312),S=n(51215);function C(e,[t,n]){return Math.min(n,Math.max(t,e))}var D=n(70569),M=n(9510),P=n(98599),A=n(11273),I=n(43),E=n(31355),T=n(1359),R=n(32547),F=n(96963),O=n(55509),L=n(25028),B=n(14163),W=n(8730),H=n(13495),K=n(65551),z=n(66156),U=n(83721),Y=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});s.forwardRef((e,t)=>(0,a.jsx)(B.sG.span,{...e,ref:t,style:{...Y,...e.style}})).displayName="VisuallyHidden";var G=n(63376),q=n(42247),V=[" ","Enter","ArrowUp","ArrowDown"],$=[" ","Enter"],X="Select",[J,Z,Q]=(0,M.N)(X),[ee,et]=(0,A.A)(X,[Q,O.Bk]),en=(0,O.Bk)(),[er,ea]=ee(X),[eo,es]=ee(X),ei=e=>{let{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:l,defaultValue:d,onValueChange:c,dir:u,name:p,autoComplete:f,disabled:m,required:h,form:v}=e,x=en(t),[y,g]=s.useState(null),[b,w]=s.useState(null),[j,N]=s.useState(!1),k=(0,I.jH)(u),[_,S]=(0,K.i)({prop:r,defaultProp:o??!1,onChange:i,caller:X}),[C,D]=(0,K.i)({prop:l,defaultProp:d,onChange:c,caller:X}),M=s.useRef(null),P=!y||v||!!y.closest("form"),[A,E]=s.useState(new Set),T=Array.from(A).map(e=>e.props.value).join(";");return(0,a.jsx)(O.bL,{...x,children:(0,a.jsxs)(er,{required:h,scope:t,trigger:y,onTriggerChange:g,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:(0,F.B)(),value:C,onValueChange:D,open:_,onOpenChange:S,dir:k,triggerPointerDownPosRef:M,disabled:m,children:[(0,a.jsx)(J.Provider,{scope:t,children:(0,a.jsx)(eo,{scope:e.__scopeSelect,onNativeOptionAdd:s.useCallback(e=>{E(t=>new Set(t).add(e))},[]),onNativeOptionRemove:s.useCallback(e=>{E(t=>{let n=new Set(t);return n.delete(e),n})},[]),children:n})}),P?(0,a.jsxs)(eU,{"aria-hidden":!0,required:h,tabIndex:-1,name:p,autoComplete:f,value:C,onChange:e=>D(e.target.value),disabled:m,form:v,children:[void 0===C?(0,a.jsx)("option",{value:""}):null,Array.from(A)]},T):null]})})};ei.displayName=X;var el="SelectTrigger",ed=s.forwardRef((e,t)=>{let{__scopeSelect:n,disabled:r=!1,...o}=e,i=en(n),l=ea(el,n),d=l.disabled||r,c=(0,P.s)(t,l.onTriggerChange),u=Z(n),p=s.useRef("touch"),[f,m,h]=eG(e=>{let t=u().filter(e=>!e.disabled),n=t.find(e=>e.value===l.value),r=eq(t,e,n);void 0!==r&&l.onValueChange(r.value)}),v=e=>{d||(l.onOpenChange(!0),h()),e&&(l.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,a.jsx)(O.Mz,{asChild:!0,...i,children:(0,a.jsx)(B.sG.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":eY(l.value)?"":void 0,...o,ref:c,onClick:(0,D.mK)(o.onClick,e=>{e.currentTarget.focus(),"mouse"!==p.current&&v(e)}),onPointerDown:(0,D.mK)(o.onPointerDown,e=>{p.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(v(e),e.preventDefault())}),onKeyDown:(0,D.mK)(o.onKeyDown,e=>{let t=""!==f.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),(!t||" "!==e.key)&&V.includes(e.key)&&(v(),e.preventDefault())})})})});ed.displayName=el;var ec="SelectValue",eu=s.forwardRef((e,t)=>{let{__scopeSelect:n,className:r,style:o,children:s,placeholder:i="",...l}=e,d=ea(ec,n),{onValueNodeHasChildrenChange:c}=d,u=void 0!==s,p=(0,P.s)(t,d.onValueNodeChange);return(0,z.N)(()=>{c(u)},[c,u]),(0,a.jsx)(B.sG.span,{...l,ref:p,style:{pointerEvents:"none"},children:eY(d.value)?(0,a.jsx)(a.Fragment,{children:i}):s})});eu.displayName=ec;var ep=s.forwardRef((e,t)=>{let{__scopeSelect:n,children:r,...o}=e;return(0,a.jsx)(B.sG.span,{"aria-hidden":!0,...o,ref:t,children:r||"â–¼"})});ep.displayName="SelectIcon";var ef=e=>(0,a.jsx)(L.Z,{asChild:!0,...e});ef.displayName="SelectPortal";var em="SelectContent",eh=s.forwardRef((e,t)=>{let n=ea(em,e.__scopeSelect),[r,o]=s.useState();return((0,z.N)(()=>{o(new DocumentFragment)},[]),n.open)?(0,a.jsx)(eg,{...e,ref:t}):r?S.createPortal((0,a.jsx)(ev,{scope:e.__scopeSelect,children:(0,a.jsx)(J.Slot,{scope:e.__scopeSelect,children:(0,a.jsx)("div",{children:e.children})})}),r):null});eh.displayName=em;var[ev,ex]=ee(em),ey=(0,W.TL)("SelectContent.RemoveScroll"),eg=s.forwardRef((e,t)=>{let{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:l,side:d,sideOffset:c,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:v,hideWhenDetached:x,avoidCollisions:y,...g}=e,b=ea(em,n),[w,j]=s.useState(null),[N,k]=s.useState(null),_=(0,P.s)(t,e=>j(e)),[S,C]=s.useState(null),[M,A]=s.useState(null),I=Z(n),[F,O]=s.useState(!1),L=s.useRef(!1);s.useEffect(()=>{if(w)return(0,G.Eq)(w)},[w]),(0,T.Oh)();let B=s.useCallback(e=>{let[t,...n]=I().map(e=>e.ref.current),[r]=n.slice(-1),a=document.activeElement;for(let n of e)if(n===a||(n?.scrollIntoView({block:"nearest"}),n===t&&N&&(N.scrollTop=0),n===r&&N&&(N.scrollTop=N.scrollHeight),n?.focus(),document.activeElement!==a))return},[I,N]),W=s.useCallback(()=>B([S,w]),[B,S,w]);s.useEffect(()=>{F&&W()},[F,W]);let{onOpenChange:H,triggerPointerDownPosRef:K}=b;s.useEffect(()=>{if(w){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(K.current?.y??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():w.contains(n.target)||H(!1),document.removeEventListener("pointermove",t),K.current=null};return null!==K.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[w,H,K]),s.useEffect(()=>{let e=()=>H(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[H]);let[z,U]=eG(e=>{let t=I().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=eq(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),Y=s.useCallback((e,t,n)=>{let r=!L.current&&!n;(void 0!==b.value&&b.value===t||r)&&(C(e),r&&(L.current=!0))},[b.value]),V=s.useCallback(()=>w?.focus(),[w]),$=s.useCallback((e,t,n)=>{let r=!L.current&&!n;(void 0!==b.value&&b.value===t||r)&&A(e)},[b.value]),X="popper"===r?ew:eb,J=X===ew?{side:d,sideOffset:c,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:v,hideWhenDetached:x,avoidCollisions:y}:{};return(0,a.jsx)(ev,{scope:n,content:w,viewport:N,onViewportChange:k,itemRefCallback:Y,selectedItem:S,onItemLeave:V,itemTextRefCallback:$,focusSelectedItem:W,selectedItemText:M,position:r,isPositioned:F,searchRef:z,children:(0,a.jsx)(q.A,{as:ey,allowPinchZoom:!0,children:(0,a.jsx)(R.n,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,D.mK)(o,e=>{b.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,a.jsx)(E.qW,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:(0,a.jsx)(X,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault(),...g,...J,onPlaced:()=>O(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:(0,D.mK)(g.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||U(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=I().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>B(t)),e.preventDefault()}})})})})})})});eg.displayName="SelectContentImpl";var eb=s.forwardRef((e,t)=>{let{__scopeSelect:n,onPlaced:r,...o}=e,i=ea(em,n),l=ex(em,n),[d,c]=s.useState(null),[u,p]=s.useState(null),f=(0,P.s)(t,e=>p(e)),m=Z(n),h=s.useRef(!1),v=s.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:g,focusSelectedItem:b}=l,w=s.useCallback(()=>{if(i.trigger&&i.valueNode&&d&&u&&x&&y&&g){let e=i.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),n=i.valueNode.getBoundingClientRect(),a=g.getBoundingClientRect();if("rtl"!==i.dir){let r=a.left-t.left,o=n.left-r,s=e.left-o,i=e.width+s,l=Math.max(i,t.width),c=C(o,[10,Math.max(10,window.innerWidth-10-l)]);d.style.minWidth=i+"px",d.style.left=c+"px"}else{let r=t.right-a.right,o=window.innerWidth-n.right-r,s=window.innerWidth-e.right-o,i=e.width+s,l=Math.max(i,t.width),c=C(o,[10,Math.max(10,window.innerWidth-10-l)]);d.style.minWidth=i+"px",d.style.right=c+"px"}let o=m(),s=window.innerHeight-20,l=x.scrollHeight,c=window.getComputedStyle(u),p=parseInt(c.borderTopWidth,10),f=parseInt(c.paddingTop,10),v=parseInt(c.borderBottomWidth,10),b=p+f+l+parseInt(c.paddingBottom,10)+v,w=Math.min(5*y.offsetHeight,b),j=window.getComputedStyle(x),N=parseInt(j.paddingTop,10),k=parseInt(j.paddingBottom,10),_=e.top+e.height/2-10,S=y.offsetHeight/2,D=p+f+(y.offsetTop+S);if(D<=_){let e=o.length>0&&y===o[o.length-1].ref.current;d.style.bottom="0px";let t=Math.max(s-_,S+(e?k:0)+(u.clientHeight-x.offsetTop-x.offsetHeight)+v);d.style.height=D+t+"px"}else{let e=o.length>0&&y===o[0].ref.current;d.style.top="0px";let t=Math.max(_,p+x.offsetTop+(e?N:0)+S);d.style.height=t+(b-D)+"px",x.scrollTop=D-_+x.offsetTop}d.style.margin="10px 0",d.style.minHeight=w+"px",d.style.maxHeight=s+"px",r?.(),requestAnimationFrame(()=>h.current=!0)}},[m,i.trigger,i.valueNode,d,u,x,y,g,i.dir,r]);(0,z.N)(()=>w(),[w]);let[j,N]=s.useState();(0,z.N)(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);let k=s.useCallback(e=>{e&&!0===v.current&&(w(),b?.(),v.current=!1)},[w,b]);return(0,a.jsx)(ej,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:h,onScrollButtonChange:k,children:(0,a.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:(0,a.jsx)(B.sG.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});eb.displayName="SelectItemAlignedPosition";var ew=s.forwardRef((e,t)=>{let{__scopeSelect:n,align:r="start",collisionPadding:o=10,...s}=e,i=en(n);return(0,a.jsx)(O.UC,{...i,...s,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ew.displayName="SelectPopperPosition";var[ej,eN]=ee(em,{}),ek="SelectViewport",e_=s.forwardRef((e,t)=>{let{__scopeSelect:n,nonce:r,...o}=e,i=ex(ek,n),l=eN(ek,n),d=(0,P.s)(t,i.onViewportChange),c=s.useRef(0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),(0,a.jsx)(J.Slot,{scope:n,children:(0,a.jsx)(B.sG.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:(0,D.mK)(o.onScroll,e=>{let t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=l;if(r?.current&&n){let e=Math.abs(c.current-t.scrollTop);if(e>0){let r=window.innerHeight-20,a=Math.max(parseFloat(n.style.minHeight),parseFloat(n.style.height));if(a<r){let o=a+e,s=Math.min(r,o),i=o-s;n.style.height=s+"px","0px"===n.style.bottom&&(t.scrollTop=i>0?i:0,n.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});e_.displayName=ek;var eS="SelectGroup",[eC,eD]=ee(eS);s.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e,o=(0,F.B)();return(0,a.jsx)(eC,{scope:n,id:o,children:(0,a.jsx)(B.sG.div,{role:"group","aria-labelledby":o,...r,ref:t})})}).displayName=eS;var eM="SelectLabel";s.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e,o=eD(eM,n);return(0,a.jsx)(B.sG.div,{id:o.id,...r,ref:t})}).displayName=eM;var eP="SelectItem",[eA,eI]=ee(eP),eE=s.forwardRef((e,t)=>{let{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...l}=e,d=ea(eP,n),c=ex(eP,n),u=d.value===r,[p,f]=s.useState(i??""),[m,h]=s.useState(!1),v=(0,P.s)(t,e=>c.itemRefCallback?.(e,r,o)),x=(0,F.B)(),y=s.useRef("touch"),g=()=>{o||(d.onValueChange(r),d.onOpenChange(!1))};if(""===r)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,a.jsx)(eA,{scope:n,value:r,disabled:o,textId:x,isSelected:u,onItemTextChange:s.useCallback(e=>{f(t=>t||(e?.textContent??"").trim())},[]),children:(0,a.jsx)(J.ItemSlot,{scope:n,value:r,disabled:o,textValue:p,children:(0,a.jsx)(B.sG.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:v,onFocus:(0,D.mK)(l.onFocus,()=>h(!0)),onBlur:(0,D.mK)(l.onBlur,()=>h(!1)),onClick:(0,D.mK)(l.onClick,()=>{"mouse"!==y.current&&g()}),onPointerUp:(0,D.mK)(l.onPointerUp,()=>{"mouse"===y.current&&g()}),onPointerDown:(0,D.mK)(l.onPointerDown,e=>{y.current=e.pointerType}),onPointerMove:(0,D.mK)(l.onPointerMove,e=>{y.current=e.pointerType,o?c.onItemLeave?.():"mouse"===y.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,D.mK)(l.onPointerLeave,e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:(0,D.mK)(l.onKeyDown,e=>{(c.searchRef?.current===""||" "!==e.key)&&($.includes(e.key)&&g()," "===e.key&&e.preventDefault())})})})})});eE.displayName=eP;var eT="SelectItemText",eR=s.forwardRef((e,t)=>{let{__scopeSelect:n,className:r,style:o,...i}=e,l=ea(eT,n),d=ex(eT,n),c=eI(eT,n),u=es(eT,n),[p,f]=s.useState(null),m=(0,P.s)(t,e=>f(e),c.onItemTextChange,e=>d.itemTextRefCallback?.(e,c.value,c.disabled)),h=p?.textContent,v=s.useMemo(()=>(0,a.jsx)("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=u;return(0,z.N)(()=>(x(v),()=>y(v)),[x,y,v]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B.sG.span,{id:c.textId,...i,ref:m}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?S.createPortal(i.children,l.valueNode):null]})});eR.displayName=eT;var eF="SelectItemIndicator",eO=s.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e;return eI(eF,n).isSelected?(0,a.jsx)(B.sG.span,{"aria-hidden":!0,...r,ref:t}):null});eO.displayName=eF;var eL="SelectScrollUpButton",eB=s.forwardRef((e,t)=>{let n=ex(eL,e.__scopeSelect),r=eN(eL,e.__scopeSelect),[o,i]=s.useState(!1),l=(0,P.s)(t,r.onScrollButtonChange);return(0,z.N)(()=>{if(n.viewport&&n.isPositioned){let e=function(){i(t.scrollTop>0)},t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),o?(0,a.jsx)(eK,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eB.displayName=eL;var eW="SelectScrollDownButton",eH=s.forwardRef((e,t)=>{let n=ex(eW,e.__scopeSelect),r=eN(eW,e.__scopeSelect),[o,i]=s.useState(!1),l=(0,P.s)(t,r.onScrollButtonChange);return(0,z.N)(()=>{if(n.viewport&&n.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;i(Math.ceil(t.scrollTop)<e)},t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),o?(0,a.jsx)(eK,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eH.displayName=eW;var eK=s.forwardRef((e,t)=>{let{__scopeSelect:n,onAutoScroll:r,...o}=e,i=ex("SelectScrollButton",n),l=s.useRef(null),d=Z(n),c=s.useCallback(()=>{null!==l.current&&(window.clearInterval(l.current),l.current=null)},[]);return s.useEffect(()=>()=>c(),[c]),(0,z.N)(()=>{let e=d().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[d]),(0,a.jsx)(B.sG.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:(0,D.mK)(o.onPointerDown,()=>{null===l.current&&(l.current=window.setInterval(r,50))}),onPointerMove:(0,D.mK)(o.onPointerMove,()=>{i.onItemLeave?.(),null===l.current&&(l.current=window.setInterval(r,50))}),onPointerLeave:(0,D.mK)(o.onPointerLeave,()=>{c()})})});s.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e;return(0,a.jsx)(B.sG.div,{"aria-hidden":!0,...r,ref:t})}).displayName="SelectSeparator";var ez="SelectArrow";s.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e,o=en(n),s=ea(ez,n),i=ex(ez,n);return s.open&&"popper"===i.position?(0,a.jsx)(O.i3,{...o,...r,ref:t}):null}).displayName=ez;var eU=s.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{let o=s.useRef(null),i=(0,P.s)(r,o),l=(0,U.Z)(t);return s.useEffect(()=>{let e=o.current;if(!e)return;let n=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(l!==t&&n){let r=new Event("change",{bubbles:!0});n.call(e,t),e.dispatchEvent(r)}},[l,t]),(0,a.jsx)(B.sG.select,{...n,style:{...Y,...n.style},ref:i,defaultValue:t})});function eY(e){return""===e||void 0===e}function eG(e){let t=(0,H.c)(e),n=s.useRef(""),r=s.useRef(0),a=s.useCallback(e=>{let a=n.current+e;t(a),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(a)},[t]),o=s.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,o]}function eq(e,t,n){var r,a;let o=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=n?e.indexOf(n):-1,i=(r=e,a=Math.max(s,0),r.map((e,t)=>r[(a+t)%r.length]));1===o.length&&(i=i.filter(e=>e!==n));let l=i.find(e=>e.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}eU.displayName="SelectBubbleInput";var eV=n(62688);let e$=(0,eV.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eX=(0,eV.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),eJ=(0,eV.A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var eZ=n(93895);function eQ({...e}){return(0,a.jsx)(ei,{"data-slot":"select",...e})}function e0({...e}){return(0,a.jsx)(eu,{"data-slot":"select-value",...e})}function e1({className:e,size:t="default",children:n,...r}){return(0,a.jsxs)(ed,{"data-slot":"select-trigger","data-size":t,className:(0,eZ.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,(0,a.jsx)(ep,{asChild:!0,children:(0,a.jsx)(e$,{className:"size-4 opacity-50"})})]})}function e2({className:e,children:t,position:n="popper",...r}){return(0,a.jsx)(ef,{children:(0,a.jsxs)(eh,{"data-slot":"select-content",className:(0,eZ.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[(0,a.jsx)(e5,{}),(0,a.jsx)(e_,{className:(0,eZ.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(e8,{})]})})}function e4({className:e,children:t,...n}){return(0,a.jsxs)(eE,{"data-slot":"select-item",className:(0,eZ.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(eO,{children:(0,a.jsx)(eX,{className:"size-4"})})}),(0,a.jsx)(eR,{children:t})]})}function e5({className:e,...t}){return(0,a.jsx)(eB,{"data-slot":"select-scroll-up-button",className:(0,eZ.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(eJ,{className:"size-4"})})}function e8({className:e,...t}){return(0,a.jsx)(eH,{"data-slot":"select-scroll-down-button",className:(0,eZ.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(e$,{className:"size-4"})})}function e6({onChange:e}){let[t,n]=(0,s.useState)(""),{data:r,isLoading:o}=(0,u.T)(c.FH.groups.getGroupOrMembers,t?{groupId:t}:{});return o?(0,a.jsx)(k.A,{width:"100%",color:"#36d7b7"}):r?.groups&&0!==r.groups.length?(0,a.jsxs)("div",{children:[(0,a.jsxs)(eQ,{value:t,onValueChange:e=>{n(e)},children:[(0,a.jsx)(e1,{className:"w-full",children:(0,a.jsx)(e0,{placeholder:"Select a group"})}),(0,a.jsx)(e2,{children:r.groups.map(e=>(0,a.jsx)(e4,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"bg-primary/10 p-1 rounded-full",children:(0,a.jsx)(_.A,{className:"h-3 w-3 text-primary"})}),(0,a.jsx)("span",{children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",e.memberCount," members)"]})]})},e.id))})]}),o&&t&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(k.A,{width:"100%",color:"#36d7b7"})})]}):(0,a.jsx)("div",{className:"text-sm text-amber-600 p-2 bg-amber-50 rounded-md",children:"You need to create a group first before adding a group expense."})}function e3({categories:e,onChange:t}){let[n,r]=(0,s.useState)("");if(!e||0===e.length)return(0,a.jsx)("div",{children:"No categories available"});if(!n&&e.length>0){let n=e.find(e=>e.isDefault)||e[0];setTimeout(()=>{r(n.id),t&&t(n.id)},0)}return(0,a.jsxs)(eQ,{value:n,onValueChange:e=>{r(e),t&&e!==n&&t(e)},children:[(0,a.jsx)(e1,{className:"w-full",children:(0,a.jsx)(e0,{placeholder:"Select a category"})}),(0,a.jsx)(e2,{children:e.map(e=>(0,a.jsx)(e4,{value:e.id,children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{children:e.name})})},e.id))})]})}var e9=n(26199),e7=n(18853),te=["PageUp","PageDown"],tt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tn={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},tr="Slider",[ta,to,ts]=(0,M.N)(tr),[ti,tl]=(0,A.A)(tr,[ts]),[td,tc]=ti(tr),tu=s.forwardRef((e,t)=>{let{name:n,min:r=0,max:o=100,step:i=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:p,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:h=!1,form:v,...x}=e,y=s.useRef(new Set),g=s.useRef(0),b="horizontal"===l,[w=[],j]=(0,K.i)({prop:p,defaultProp:u,onChange:e=>{let t=[...y.current];t[g.current]?.focus(),f(e)}}),N=s.useRef(w);function k(e,t,{commit:n}={commit:!1}){let a=(String(i).split(".")[1]||"").length,s=C(function(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-r)/i)*i+r,a),[r,o]);j((e=[])=>{let r=function(e=[],t,n){let r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,s,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,n)=>e[n+1]-t))>=t;return!0}(r,c*i))return e;{g.current=r.indexOf(s);let t=String(r)!==String(e);return t&&n&&m(r),t?r:e}})}return(0,a.jsx)(td,{scope:e.__scopeSlider,name:n,disabled:d,min:r,max:o,valueIndexToChangeRef:g,thumbs:y.current,values:w,orientation:l,form:v,children:(0,a.jsx)(ta.Provider,{scope:e.__scopeSlider,children:(0,a.jsx)(ta.Slot,{scope:e.__scopeSlider,children:(0,a.jsx)(b?tm:th,{"aria-disabled":d,"data-disabled":d?"":void 0,...x,ref:t,onPointerDown:(0,D.mK)(x.onPointerDown,()=>{d||(N.current=w)}),min:r,max:o,inverted:h,onSlideStart:d?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(w,e);k(e,t)},onSlideMove:d?void 0:function(e){k(e,g.current)},onSlideEnd:d?void 0:function(){let e=N.current[g.current];w[g.current]!==e&&m(w)},onHomeKeyDown:()=>!d&&k(r,0,{commit:!0}),onEndKeyDown:()=>!d&&k(o,w.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!d){let n=te.includes(e.key)||e.shiftKey&&tt.includes(e.key),r=g.current;k(w[r]+i*(n?10:1)*t,r,{commit:!0})}}})})})})});tu.displayName=tr;var[tp,tf]=ti(tr,{startEdge:"left",endEdge:"right",size:"width",direction:1}),tm=s.forwardRef((e,t)=>{let{min:n,max:r,dir:o,inverted:i,onSlideStart:l,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...p}=e,[f,m]=s.useState(null),h=(0,P.s)(t,e=>m(e)),v=s.useRef(void 0),x=(0,I.jH)(o),y="ltr"===x,g=y&&!i||!y&&i;function b(e){let t=v.current||f.getBoundingClientRect(),a=tS([0,t.width],g?[n,r]:[r,n]);return v.current=t,a(e-t.left)}return(0,a.jsx)(tp,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:(0,a.jsx)(tv,{dir:x,"data-orientation":"horizontal",...p,ref:h,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=b(e.clientX);l?.(t)},onSlideMove:e=>{let t=b(e.clientX);d?.(t)},onSlideEnd:()=>{v.current=void 0,c?.()},onStepKeyDown:e=>{let t=tn[g?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),th=s.forwardRef((e,t)=>{let{min:n,max:r,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:d,onStepKeyDown:c,...u}=e,p=s.useRef(null),f=(0,P.s)(t,p),m=s.useRef(void 0),h=!o;function v(e){let t=m.current||p.current.getBoundingClientRect(),a=tS([0,t.height],h?[r,n]:[n,r]);return m.current=t,a(e-t.top)}return(0,a.jsx)(tp,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:(0,a.jsx)(tv,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=v(e.clientY);i?.(t)},onSlideMove:e=>{let t=v(e.clientY);l?.(t)},onSlideEnd:()=>{m.current=void 0,d?.()},onStepKeyDown:e=>{let t=tn[h?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),tv=s.forwardRef((e,t)=>{let{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:d,...c}=e,u=tc(tr,n);return(0,a.jsx)(B.sG.span,{...c,ref:t,onKeyDown:(0,D.mK)(e.onKeyDown,e=>{"Home"===e.key?(i(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):te.concat(tt).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,D.mK)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():r(e)}),onPointerMove:(0,D.mK)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&o(e)}),onPointerUp:(0,D.mK)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),s(e))})})}),tx="SliderTrack",ty=s.forwardRef((e,t)=>{let{__scopeSlider:n,...r}=e,o=tc(tx,n);return(0,a.jsx)(B.sG.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});ty.displayName=tx;var tg="SliderRange",tb=s.forwardRef((e,t)=>{let{__scopeSlider:n,...r}=e,o=tc(tg,n),i=tf(tg,n),l=s.useRef(null),d=(0,P.s)(t,l),c=o.values.length,u=o.values.map(e=>t_(e,o.min,o.max)),p=c>1?Math.min(...u):0,f=100-Math.max(...u);return(0,a.jsx)(B.sG.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:d,style:{...e.style,[i.startEdge]:p+"%",[i.endEdge]:f+"%"}})});tb.displayName=tg;var tw="SliderThumb",tj=s.forwardRef((e,t)=>{let n=to(e.__scopeSlider),[r,o]=s.useState(null),i=(0,P.s)(t,e=>o(e)),l=s.useMemo(()=>r?n().findIndex(e=>e.ref.current===r):-1,[n,r]);return(0,a.jsx)(tN,{...e,ref:i,index:l})}),tN=s.forwardRef((e,t)=>{let{__scopeSlider:n,index:r,name:o,...i}=e,l=tc(tw,n),d=tf(tw,n),[c,u]=s.useState(null),p=(0,P.s)(t,e=>u(e)),f=!c||l.form||!!c.closest("form"),m=(0,e7.X)(c),h=l.values[r],v=void 0===h?0:t_(h,l.min,l.max),x=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(r,l.values.length),y=m?.[d.size],g=y?function(e,t,n){let r=e/2,a=tS([0,50],[0,r]);return(r-a(t)*n)*n}(y,v,d.direction):0;return s.useEffect(()=>{if(c)return l.thumbs.add(c),()=>{l.thumbs.delete(c)}},[c,l.thumbs]),(0,a.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${v}% + ${g}px)`},children:[(0,a.jsx)(ta.ItemSlot,{scope:e.__scopeSlider,children:(0,a.jsx)(B.sG.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":l.min,"aria-valuenow":h,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:p,style:void 0===h?{display:"none"}:e.style,onFocus:(0,D.mK)(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),f&&(0,a.jsx)(tk,{name:o??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:h},r)]})});tj.displayName=tw;var tk=s.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{let o=s.useRef(null),i=(0,P.s)(o,r),l=(0,U.Z)(t);return s.useEffect(()=>{let e=o.current;if(!e)return;let n=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==t&&n){let r=new Event("input",{bubbles:!0});n.call(e,t),e.dispatchEvent(r)}},[l,t]),(0,a.jsx)(B.sG.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});function t_(e,t,n){return C(100/(n-t)*(e-t),[0,100])}function tS(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function tC({className:e,defaultValue:t,value:n,min:r=0,max:o=100,...i}){let l=s.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,o],[n,t,r,o]);return(0,a.jsxs)(tu,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:o,className:(0,eZ.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...i,children:[(0,a.jsx)(ty,{"data-slot":"slider-track",className:(0,eZ.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,a.jsx)(tb,{"data-slot":"slider-range",className:(0,eZ.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(e,t)=>(0,a.jsx)(tj,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}function tD({type:e,amount:t,participants:n,paidByUserId:r,onSplitsChange:o}){let{user:i}=(0,e9.Jd)(),[l,d]=(0,s.useState)([]),[c,u]=(0,s.useState)(0),[f,m]=(0,s.useState)(0),h=(e,n)=>{let r=l.map(r=>r.userId===e?{...r,percentage:n,amount:t*n/100}:r);d(r);let a=r.reduce((e,t)=>e+t.amount,0),s=r.reduce((e,t)=>e+t.percentage,0);m(a),u(s),o&&o(r)},v=(e,n)=>{let r=parseFloat(n)||0,a=l.map(n=>n.userId===e?{...n,amount:r,percentage:t>0?r/t*100:0}:n);d(a);let s=a.reduce((e,t)=>e+t.amount,0),i=a.reduce((e,t)=>e+t.percentage,0);m(s),u(i),o&&o(a)},y=.01>Math.abs(c-100),g=.01>Math.abs(f-t);return(0,a.jsxs)("div",{className:"space-y-4 mt-4",children:[l.map(n=>(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-[120px]",children:[(0,a.jsxs)(x.Avatar,{className:"h-7 w-7",children:[(0,a.jsx)(x.AvatarImage,{src:n.imageUrl}),(0,a.jsx)(x.AvatarFallback,{children:n.name?.charAt(0)||"?"})]}),(0,a.jsx)("span",{className:"text-sm",children:n.userId===i?.id?"You":n.name})]}),"equal"===e&&(0,a.jsxs)("div",{className:"text-right text-sm",children:["$",n.amount.toFixed(2)," (",n.percentage.toFixed(1),"%)"]}),"percentage"===e&&(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,a.jsx)(tC,{value:[n.percentage],min:0,max:100,step:1,onValueChange:e=>h(n.userId,e[0]),className:"flex-1"}),(0,a.jsxs)("div",{className:"flex gap-1 items-center min-w-[100px]",children:[(0,a.jsx)(p.p,{type:"number",min:"0",max:"100",value:n.percentage.toFixed(1),onChange:e=>h(n.userId,parseFloat(e.target.value)||0),className:"w-16 h-8"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"%"}),(0,a.jsxs)("span",{className:"text-sm ml-1",children:["$",n.amount.toFixed(2)]})]})]}),"exact"===e&&(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"$"}),(0,a.jsx)(p.p,{type:"number",min:"0",max:2*t,step:"0.01",value:n.amount.toFixed(2),onChange:e=>v(n.userId,e.target.value),className:"w-24 h-8"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground ml-1",children:["(",n.percentage.toFixed(1),"%)"]})]})]})]},n.userId)),(0,a.jsxs)("div",{className:"flex justify-between border-t pt-3 mt-3",children:[(0,a.jsx)("span",{className:"font-medium",children:"Total"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("span",{className:`font-medium ${g?"":"text-amber-600"}`,children:["$",f.toFixed(2)]}),"equal"!==e&&(0,a.jsxs)("span",{className:`text-sm ml-2 ${y?"":"text-amber-600"}`,children:["(",c.toFixed(1),"%)"]})]})]}),"percentage"===e&&!y&&(0,a.jsx)("div",{className:"text-sm text-amber-600 mt-2",children:"The percentages should add up to 100%."}),"exact"===e&&!g&&(0,a.jsxs)("div",{className:"text-sm text-amber-600 mt-2",children:["The sum of all splits ($",f.toFixed(2),") should equal the total amount ($",t.toFixed(2),")."]})]})}tk.displayName="RadioBubbleInput";let tM=(0,eV.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var tP=n(14952),tA=n(85650),tI=n(23711);function tE(e,t){let n=(0,tI.a)(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function tT(e,t){let n=(0,tI.a)(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}var tR=n(30319),tF=n(29789),tO=n(87981);function tL(e,t,n){let r=(0,tI.a)(e,n?.in),a=r.getFullYear(),o=r.getDate(),s=(0,tO.w)(n?.in||e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);let i=function(e,t){let n=(0,tI.a)(e,void 0),r=n.getFullYear(),a=n.getMonth(),o=(0,tO.w)(n,0);return o.setFullYear(r,a+1,0),o.setHours(0,0,0,0),o.getDate()}(s);return r.setMonth(t,Math.min(o,i)),r}function tB(e,t,n){let r=(0,tI.a)(e,n?.in);return isNaN(+r)?(0,tO.w)(n?.in||e,NaN):(r.setFullYear(t),r)}var tW=n(27272);function tH(e,t,n){let[r,a]=(0,tF.x)(n?.in,e,t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}function tK(e,t,n){let r=(0,tI.a)(e,n?.in);if(isNaN(t))return(0,tO.w)(n?.in||e,NaN);if(!t)return r;let a=r.getDate(),o=(0,tO.w)(n?.in||e,r.getTime());return(o.setMonth(r.getMonth()+t+1,0),a>=o.getDate())?o:(r.setFullYear(o.getFullYear(),o.getMonth(),a),r)}function tz(e,t,n){let[r,a]=(0,tF.x)(n?.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function tU(e,t){return+(0,tI.a)(e)<+(0,tI.a)(t)}var tY=n(64916),tG=n(51877);function tq(e,t,n){let r=(0,tI.a)(e,n?.in);return isNaN(t)?(0,tO.w)(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function tV(e,t,n){let[r,a]=(0,tF.x)(n?.in,e,t);return+(0,tR.o)(r)==+(0,tR.o)(a)}function t$(e,t){return+(0,tI.a)(e)>+(0,tI.a)(t)}var tX=n(46223),tJ=n(91522);function tZ(e,t,n){return tq(e,7*t,n)}function tQ(e,t,n){return tK(e,12*t,n)}var t0=n(78872);function t1(e,t){let n=(0,t0.q)(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=(0,tI.a)(e,t?.in),o=a.getDay();return a.setDate(a.getDate()+((o<r?-7:0)+6-(o-r))),a.setHours(23,59,59,999),a}function t2(e,t){return t1(e,{...t,weekStartsOn:1})}var t4=n(38832),t5=n(46495),t8=n(31504),t6=n(58505),t3=n(64722),t9=function(){return(t9=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function t7(e,t,n){if(n||2==arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function ne(e){return"multiple"===e.mode}function nt(e){return"range"===e.mode}function nn(e){return"single"===e.mode}"function"==typeof SuppressedError&&SuppressedError;var nr={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"},na=Object.freeze({__proto__:null,formatCaption:function(e,t){return(0,tA.GP)(e,"LLLL y",t)},formatDay:function(e,t){return(0,tA.GP)(e,"d",t)},formatMonthCaption:function(e,t){return(0,tA.GP)(e,"LLLL",t)},formatWeekNumber:function(e){return"".concat(e)},formatWeekdayName:function(e,t){return(0,tA.GP)(e,"cccccc",t)},formatYearCaption:function(e,t){return(0,tA.GP)(e,"yyyy",t)}}),no=Object.freeze({__proto__:null,labelDay:function(e,t,n){return(0,tA.GP)(e,"do MMMM (EEEE)",n)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(e){return"Week n. ".concat(e)},labelWeekday:function(e,t){return(0,tA.GP)(e,"cccc",t)},labelYearDropdown:function(){return"Year: "}}),ns=(0,s.createContext)(void 0);function ni(e){var t,n,r,o,s,i,l,d,c,u=e.initialProps,p={captionLayout:"buttons",classNames:nr,formatters:na,labels:no,locale:t3.c,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},f=(n=(t=u).fromYear,r=t.toYear,o=t.fromMonth,s=t.toMonth,i=t.fromDate,l=t.toDate,o?i=tE(o):n&&(i=new Date(n,0,1)),s?l=tT(s):r&&(l=new Date(r,11,31)),{fromDate:i?(0,tR.o)(i):void 0,toDate:l?(0,tR.o)(l):void 0}),m=f.fromDate,h=f.toDate,v=null!==(d=u.captionLayout)&&void 0!==d?d:p.captionLayout;"buttons"===v||m&&h||(v="buttons"),(nn(u)||ne(u)||nt(u))&&(c=u.onSelect);var x=t9(t9(t9({},p),u),{captionLayout:v,classNames:t9(t9({},p.classNames),u.classNames),components:t9({},u.components),formatters:t9(t9({},p.formatters),u.formatters),fromDate:m,labels:t9(t9({},p.labels),u.labels),mode:u.mode||p.mode,modifiers:t9(t9({},p.modifiers),u.modifiers),modifiersClassNames:t9(t9({},p.modifiersClassNames),u.modifiersClassNames),onSelect:c,styles:t9(t9({},p.styles),u.styles),toDate:h});return(0,a.jsx)(ns.Provider,{value:x,children:e.children})}function nl(){var e=(0,s.useContext)(ns);if(!e)throw Error("useDayPicker must be used within a DayPickerProvider.");return e}function nd(e){var t=nl(),n=t.locale,r=t.classNames,o=t.styles,s=t.formatters.formatCaption;return(0,a.jsx)("div",{className:r.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:n})})}function nc(e){return(0,a.jsx)("svg",t9({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:(0,a.jsx)("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function nu(e){var t,n,r=e.onChange,o=e.value,s=e.children,i=e.caption,l=e.className,d=e.style,c=nl(),u=null!==(n=null===(t=c.components)||void 0===t?void 0:t.IconDropdown)&&void 0!==n?n:nc;return(0,a.jsxs)("div",{className:l,style:d,children:[(0,a.jsx)("span",{className:c.classNames.vhidden,children:e["aria-label"]}),(0,a.jsx)("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:o,onChange:r,children:s}),(0,a.jsxs)("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[i,(0,a.jsx)(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function np(e){var t,n=nl(),r=n.fromDate,o=n.toDate,s=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,d=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r||!o)return(0,a.jsx)(a.Fragment,{});var p=[];if(function(e,t,n){let[r,a]=(0,tF.x)(void 0,e,t);return r.getFullYear()===a.getFullYear()}(r,o))for(var f=tE(r),m=r.getMonth();m<=o.getMonth();m++)p.push(tL(f,m));else for(var f=tE(new Date),m=0;m<=11;m++)p.push(tL(f,m));var h=null!==(t=null==c?void 0:c.Dropdown)&&void 0!==t?t:nu;return(0,a.jsx)(h,{name:"months","aria-label":u(),className:d.dropdown_month,style:s.dropdown_month,onChange:function(t){var n=Number(t.target.value),r=tL(tE(e.displayMonth),n);e.onChange(r)},value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:p.map(function(e){return(0,a.jsx)("option",{value:e.getMonth(),children:l(e,{locale:i})},e.getMonth())})})}function nf(e){var t,n=e.displayMonth,r=nl(),o=r.fromDate,s=r.toDate,i=r.locale,l=r.styles,d=r.classNames,c=r.components,u=r.formatters.formatYearCaption,p=r.labels.labelYearDropdown,f=[];if(!o||!s)return(0,a.jsx)(a.Fragment,{});for(var m=o.getFullYear(),h=s.getFullYear(),v=m;v<=h;v++)f.push(tB((0,tW.D)(new Date),v));var x=null!==(t=null==c?void 0:c.Dropdown)&&void 0!==t?t:nu;return(0,a.jsx)(x,{name:"years","aria-label":p(),className:d.dropdown_year,style:l.dropdown_year,onChange:function(t){var r=tB(tE(n),Number(t.target.value));e.onChange(r)},value:n.getFullYear(),caption:u(n,{locale:i}),children:f.map(function(e){return(0,a.jsx)("option",{value:e.getFullYear(),children:u(e,{locale:i})},e.getFullYear())})})}var nm=(0,s.createContext)(void 0);function nh(e){var t,n,r,o,i,l,d,c,u,p,f,m,h,v,x,y,g=nl(),b=(x=(r=(n=t=nl()).month,o=n.defaultMonth,i=n.today,l=r||o||i||new Date,d=n.toDate,c=n.fromDate,u=n.numberOfMonths,d&&0>tH(d,l)&&(l=tK(d,-1*((void 0===u?1:u)-1))),c&&0>tH(l,c)&&(l=c),p=tE(l),f=t.month,h=(m=(0,s.useState)(p))[0],v=[void 0===f?h:f,m[1]])[0],y=v[1],[x,function(e){if(!t.disableNavigation){var n,r=tE(e);y(r),null===(n=t.onMonthChange)||void 0===n||n.call(t,r)}}]),w=b[0],j=b[1],N=function(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=tE(e),o=tH(tE(tK(a,r)),a),s=[],i=0;i<o;i++){var l=tK(a,i);s.push(l)}return n&&(s=s.reverse()),s}(w,g),k=function(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,o=void 0===a?1:a,s=r?o:1,i=tE(e);if(!n||!(tH(n,e)<o))return tK(i,s)}}(w,g),_=function(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,o=r?void 0===a?1:a:1,s=tE(e);if(!n||!(0>=tH(s,n)))return tK(s,-o)}}(w,g),S=function(e){return N.some(function(t){return tz(e,t)})};return(0,a.jsx)(nm.Provider,{value:{currentMonth:w,displayMonths:N,goToMonth:j,goToDate:function(e,t){!S(e)&&(t&&tU(e,t)?j(tK(e,1+-1*g.numberOfMonths)):j(e))},previousMonth:_,nextMonth:k,isDateDisplayed:S},children:e.children})}function nv(){var e=(0,s.useContext)(nm);if(!e)throw Error("useNavigation must be used within a NavigationProvider");return e}function nx(e){var t,n=nl(),r=n.classNames,o=n.styles,s=n.components,i=nv().goToMonth,l=function(t){i(tK(t,e.displayIndex?-e.displayIndex:0))},d=null!==(t=null==s?void 0:s.CaptionLabel)&&void 0!==t?t:nd,c=(0,a.jsx)(d,{id:e.id,displayMonth:e.displayMonth});return(0,a.jsxs)("div",{className:r.caption_dropdowns,style:o.caption_dropdowns,children:[(0,a.jsx)("div",{className:r.vhidden,children:c}),(0,a.jsx)(np,{onChange:l,displayMonth:e.displayMonth}),(0,a.jsx)(nf,{onChange:l,displayMonth:e.displayMonth})]})}function ny(e){return(0,a.jsx)("svg",t9({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,a.jsx)("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ng(e){return(0,a.jsx)("svg",t9({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,a.jsx)("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var nb=(0,s.forwardRef)(function(e,t){var n=nl(),r=n.classNames,o=n.styles,s=[r.button_reset,r.button];e.className&&s.push(e.className);var i=s.join(" "),l=t9(t9({},o.button_reset),o.button);return e.style&&Object.assign(l,e.style),(0,a.jsx)("button",t9({},e,{ref:t,type:"button",className:i,style:l}))});function nw(e){var t,n,r=nl(),o=r.dir,s=r.locale,i=r.classNames,l=r.styles,d=r.labels,c=d.labelPrevious,u=d.labelNext,p=r.components;if(!e.nextMonth&&!e.previousMonth)return(0,a.jsx)(a.Fragment,{});var f=c(e.previousMonth,{locale:s}),m=[i.nav_button,i.nav_button_previous].join(" "),h=u(e.nextMonth,{locale:s}),v=[i.nav_button,i.nav_button_next].join(" "),x=null!==(t=null==p?void 0:p.IconRight)&&void 0!==t?t:ng,y=null!==(n=null==p?void 0:p.IconLeft)&&void 0!==n?n:ny;return(0,a.jsxs)("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&(0,a.jsx)(nb,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:"rtl"===o?(0,a.jsx)(x,{className:i.nav_icon,style:l.nav_icon}):(0,a.jsx)(y,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&(0,a.jsx)(nb,{name:"next-month","aria-label":h,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:"rtl"===o?(0,a.jsx)(y,{className:i.nav_icon,style:l.nav_icon}):(0,a.jsx)(x,{className:i.nav_icon,style:l.nav_icon})})]})}function nj(e){var t=nl().numberOfMonths,n=nv(),r=n.previousMonth,o=n.nextMonth,s=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(t){return tz(e.displayMonth,t)}),d=0===l,c=l===i.length-1;return(0,a.jsx)(nw,{displayMonth:e.displayMonth,hideNext:t>1&&(d||!c),hidePrevious:t>1&&(c||!d),nextMonth:o,previousMonth:r,onPreviousClick:function(){r&&s(r)},onNextClick:function(){o&&s(o)}})}function nN(e){var t,n,r=nl(),o=r.classNames,s=r.disableNavigation,i=r.styles,l=r.captionLayout,d=r.components,c=null!==(t=null==d?void 0:d.CaptionLabel)&&void 0!==t?t:nd;return n=s?(0,a.jsx)(c,{id:e.id,displayMonth:e.displayMonth}):"dropdown"===l?(0,a.jsx)(nx,{displayMonth:e.displayMonth,id:e.id}):"dropdown-buttons"===l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(nx,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),(0,a.jsx)(nj,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,a.jsx)(nj,{displayMonth:e.displayMonth,id:e.id})]}),(0,a.jsx)("div",{className:o.caption,style:i.caption,children:n})}function nk(e){var t=nl(),n=t.footer,r=t.styles,o=t.classNames.tfoot;return n?(0,a.jsx)("tfoot",{className:o,style:r.tfoot,children:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:8,children:n})})}):(0,a.jsx)(a.Fragment,{})}function n_(){var e=nl(),t=e.classNames,n=e.styles,r=e.showWeekNumber,o=e.locale,s=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,c=function(e,t,n){for(var r=n?(0,tY.b)(new Date):(0,tG.k)(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var s=tq(r,o);a.push(s)}return a}(o,s,i);return(0,a.jsxs)("tr",{style:n.head_row,className:t.head_row,children:[r&&(0,a.jsx)("td",{style:n.head_cell,className:t.head_cell}),c.map(function(e,r){return(0,a.jsx)("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":d(e,{locale:o}),children:l(e,{locale:o})},r)})]})}function nS(){var e,t=nl(),n=t.classNames,r=t.styles,o=t.components,s=null!==(e=null==o?void 0:o.HeadRow)&&void 0!==e?e:n_;return(0,a.jsx)("thead",{style:r.head,className:n.head,children:(0,a.jsx)(s,{})})}function nC(e){var t=nl(),n=t.locale,r=t.formatters.formatDay;return(0,a.jsx)(a.Fragment,{children:r(e.date,{locale:n})})}var nD=(0,s.createContext)(void 0);function nM(e){return ne(e.initialProps)?(0,a.jsx)(nP,{initialProps:e.initialProps,children:e.children}):(0,a.jsx)(nD.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:e.children})}function nP(e){var t=e.initialProps,n=e.children,r=t.selected,o=t.min,s=t.max,i={disabled:[]};return r&&i.disabled.push(function(e){var t=s&&r.length>s-1,n=r.some(function(t){return tV(t,e)});return!!(t&&!n)}),(0,a.jsx)(nD.Provider,{value:{selected:r,onDayClick:function(e,n,a){if(null===(i=t.onDayClick)||void 0===i||i.call(t,e,n,a),(!n.selected||!o||(null==r?void 0:r.length)!==o)&&(n.selected||!s||(null==r?void 0:r.length)!==s)){var i,l,d=r?t7([],r,!0):[];if(n.selected){var c=d.findIndex(function(t){return tV(e,t)});d.splice(c,1)}else d.push(e);null===(l=t.onSelect)||void 0===l||l.call(t,d,e,n,a)}},modifiers:i},children:n})}function nA(){var e=(0,s.useContext)(nD);if(!e)throw Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}var nI=(0,s.createContext)(void 0);function nE(e){return nt(e.initialProps)?(0,a.jsx)(nT,{initialProps:e.initialProps,children:e.children}):(0,a.jsx)(nI.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:e.children})}function nT(e){var t=e.initialProps,n=e.children,r=t.selected,o=r||{},s=o.from,i=o.to,l=t.min,d=t.max,c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(c.range_start=[s],i?(c.range_end=[i],tV(s,i)||(c.range_middle=[{after:s,before:i}])):c.range_end=[s]):i&&(c.range_start=[i],c.range_end=[i]),l&&(s&&!i&&c.disabled.push({after:tq(s,-(l-1),void 0),before:tq(s,l-1)}),s&&i&&c.disabled.push({after:s,before:tq(s,l-1)}),!s&&i&&c.disabled.push({after:tq(i,-(l-1),void 0),before:tq(i,l-1)})),d){if(s&&!i&&(c.disabled.push({before:tq(s,-d+1)}),c.disabled.push({after:tq(s,d-1)})),s&&i){var u=d-((0,tX.m)(i,s)+1);c.disabled.push({before:tq(s,-u,void 0)}),c.disabled.push({after:tq(i,u)})}!s&&i&&(c.disabled.push({before:tq(i,-d+1)}),c.disabled.push({after:tq(i,d-1)}))}return(0,a.jsx)(nI.Provider,{value:{selected:r,onDayClick:function(e,n,a){null===(d=t.onDayClick)||void 0===d||d.call(t,e,n,a);var o,s,i,l,d,c,u=(o=e,i=(s=r||{}).from,l=s.to,i&&l?tV(l,o)&&tV(i,o)?void 0:tV(l,o)?{from:l,to:void 0}:tV(i,o)?void 0:t$(i,o)?{from:o,to:l}:{from:i,to:o}:l?t$(o,l)?{from:l,to:o}:{from:o,to:l}:i?tU(o,i)?{from:o,to:i}:{from:i,to:o}:{from:o,to:void 0});null===(c=t.onSelect)||void 0===c||c.call(t,u,e,n,a)},modifiers:c},children:n})}function nR(){var e=(0,s.useContext)(nI);if(!e)throw Error("useSelectRange must be used within a SelectRangeProvider");return e}function nF(e){return Array.isArray(e)?t7([],e,!0):void 0!==e?[e]:[]}!function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"}(r||(r={}));var nO=r.Selected,nL=r.Disabled,nB=r.Hidden,nW=r.Today,nH=r.RangeEnd,nK=r.RangeMiddle,nz=r.RangeStart,nU=r.Outside,nY=(0,s.createContext)(void 0);function nG(e){var t,n,r,o=nl(),s=nA(),i=nR(),l=((t={})[nO]=nF(o.selected),t[nL]=nF(o.disabled),t[nB]=nF(o.hidden),t[nW]=[o.today],t[nH]=[],t[nK]=[],t[nz]=[],t[nU]=[],o.fromDate&&t[nL].push({before:o.fromDate}),o.toDate&&t[nL].push({after:o.toDate}),ne(o)?t[nL]=t[nL].concat(s.modifiers[nL]):nt(o)&&(t[nL]=t[nL].concat(i.modifiers[nL]),t[nz]=i.modifiers[nz],t[nK]=i.modifiers[nK],t[nH]=i.modifiers[nH]),t),d=(n=o.modifiers,r={},Object.entries(n).forEach(function(e){var t=e[0],n=e[1];r[t]=nF(n)}),r),c=t9(t9({},l),d);return(0,a.jsx)(nY.Provider,{value:c,children:e.children})}function nq(){var e=(0,s.useContext)(nY);if(!e)throw Error("useModifiers must be used within a ModifiersProvider");return e}function nV(e,t,n){var r=Object.keys(t).reduce(function(n,r){return t[r].some(function(t){if("boolean"==typeof t)return t;if((0,tJ.$)(t))return tV(e,t);if(Array.isArray(t)&&t.every(tJ.$))return t.includes(e);if(t&&"object"==typeof t&&"from"in t)return r=t.from,a=t.to,r&&a?(0>(0,tX.m)(a,r)&&(r=(n=[a,r])[0],a=n[1]),(0,tX.m)(e,r)>=0&&(0,tX.m)(a,e)>=0):a?tV(a,e):!!r&&tV(r,e);if(t&&"object"==typeof t&&"dayOfWeek"in t)return t.dayOfWeek.includes(e.getDay());if(t&&"object"==typeof t&&"before"in t&&"after"in t){var n,r,a,o=(0,tX.m)(t.before,e),s=(0,tX.m)(t.after,e),i=o>0,l=s<0;return t$(t.before,t.after)?l&&i:i||l}return t&&"object"==typeof t&&"after"in t?(0,tX.m)(e,t.after)>0:t&&"object"==typeof t&&"before"in t?(0,tX.m)(t.before,e)>0:"function"==typeof t&&t(e)})&&n.push(r),n},[]),a={};return r.forEach(function(e){return a[e]=!0}),n&&!tz(e,n)&&(a.outside=!0),a}var n$=(0,s.createContext)(void 0);function nX(e){var t=nv(),n=nq(),r=(0,s.useState)(),o=r[0],i=r[1],l=(0,s.useState)(),d=l[0],c=l[1],u=function(e,t){for(var n,r,a=tE(e[0]),o=tT(e[e.length-1]),s=a;s<=o;){var i=nV(s,t);if(!(!i.disabled&&!i.hidden)){s=tq(s,1);continue}if(i.selected)return s;i.today&&!r&&(r=s),n||(n=s),s=tq(s,1)}return r||n}(t.displayMonths,n),p=(null!=o?o:d&&t.isDateDisplayed(d))?d:u,f=function(e){i(e)},m=nl(),h=function(e,r){if(o){var a=function e(t,n){var r=n.moveBy,a=n.direction,o=n.context,s=n.modifiers,i=n.retry,l=void 0===i?{count:0,lastFocused:t}:i,d=o.weekStartsOn,c=o.fromDate,u=o.toDate,p=o.locale,f=({day:tq,week:tZ,month:tK,year:tQ,startOfWeek:function(e){return o.ISOWeek?(0,tY.b)(e):(0,tG.k)(e,{locale:p,weekStartsOn:d})},endOfWeek:function(e){return o.ISOWeek?t2(e):t1(e,{locale:p,weekStartsOn:d})}})[r](t,"after"===a?1:-1);if("before"===a&&c){let e,t;t=void 0,[c,f].forEach(n=>{t||"object"!=typeof n||(t=tO.w.bind(null,n));let r=(0,tI.a)(n,t);(!e||e<r||isNaN(+r))&&(e=r)}),f=(0,tO.w)(t,e||NaN)}else if("after"===a&&u){let e,t;t=void 0,[u,f].forEach(n=>{t||"object"!=typeof n||(t=tO.w.bind(null,n));let r=(0,tI.a)(n,t);(!e||e>r||isNaN(+r))&&(e=r)}),f=(0,tO.w)(t,e||NaN)}var m=!0;if(s){var h=nV(f,s);m=!h.disabled&&!h.hidden}return m?f:l.count>365?l.lastFocused:e(f,{moveBy:r,direction:a,context:o,modifiers:s,retry:t9(t9({},l),{count:l.count+1})})}(o,{moveBy:e,direction:r,context:m,modifiers:n});tV(o,a)||(t.goToDate(a,o),f(a))}};return(0,a.jsx)(n$.Provider,{value:{focusedDay:o,focusTarget:p,blur:function(){c(o),i(void 0)},focus:f,focusDayAfter:function(){return h("day","after")},focusDayBefore:function(){return h("day","before")},focusWeekAfter:function(){return h("week","after")},focusWeekBefore:function(){return h("week","before")},focusMonthBefore:function(){return h("month","before")},focusMonthAfter:function(){return h("month","after")},focusYearBefore:function(){return h("year","before")},focusYearAfter:function(){return h("year","after")},focusStartOfWeek:function(){return h("startOfWeek","before")},focusEndOfWeek:function(){return h("endOfWeek","after")}},children:e.children})}function nJ(){var e=(0,s.useContext)(n$);if(!e)throw Error("useFocusContext must be used within a FocusProvider");return e}var nZ=(0,s.createContext)(void 0);function nQ(e){return nn(e.initialProps)?(0,a.jsx)(n0,{initialProps:e.initialProps,children:e.children}):(0,a.jsx)(nZ.Provider,{value:{selected:void 0},children:e.children})}function n0(e){var t=e.initialProps,n=e.children,r={selected:t.selected,onDayClick:function(e,n,r){var a,o,s;if(null===(a=t.onDayClick)||void 0===a||a.call(t,e,n,r),n.selected&&!t.required){null===(o=t.onSelect)||void 0===o||o.call(t,void 0,e,n,r);return}null===(s=t.onSelect)||void 0===s||s.call(t,e,e,n,r)}};return(0,a.jsx)(nZ.Provider,{value:r,children:n})}function n1(){var e=(0,s.useContext)(nZ);if(!e)throw Error("useSelectSingle must be used within a SelectSingleProvider");return e}function n2(e){var t,n,o,i,l,d,c,u,p,f,m,h,v,x,y,g,b,w,j,N,k,_,S,C,D,M,P,A,I,E,T,R,F,O,L,B,W,H,K,z,U,Y=(0,s.useRef)(null),G=(t=e.date,n=e.displayMonth,d=nl(),c=nJ(),u=nV(t,nq(),n),p=nl(),f=n1(),m=nA(),h=nR(),x=(v=nJ()).focusDayAfter,y=v.focusDayBefore,g=v.focusWeekAfter,b=v.focusWeekBefore,w=v.blur,j=v.focus,N=v.focusMonthBefore,k=v.focusMonthAfter,_=v.focusYearBefore,S=v.focusYearAfter,C=v.focusStartOfWeek,D=v.focusEndOfWeek,M=nl(),P=n1(),A=nA(),I=nR(),E=nn(M)?P.selected:ne(M)?A.selected:nt(M)?I.selected:void 0,T=!!(d.onDayClick||"default"!==d.mode),(0,s.useEffect)(function(){var e;!u.outside&&c.focusedDay&&T&&tV(c.focusedDay,t)&&(null===(e=Y.current)||void 0===e||e.focus())},[c.focusedDay,t,Y,T,u.outside]),F=(R=[d.classNames.day],Object.keys(u).forEach(function(e){var t=d.modifiersClassNames[e];if(t)R.push(t);else if(Object.values(r).includes(e)){var n=d.classNames["day_".concat(e)];n&&R.push(n)}}),R).join(" "),O=t9({},d.styles.day),Object.keys(u).forEach(function(e){var t;O=t9(t9({},O),null===(t=d.modifiersStyles)||void 0===t?void 0:t[e])}),L=O,B=!!(u.outside&&!d.showOutsideDays||u.hidden),W=null!==(l=null===(i=d.components)||void 0===i?void 0:i.DayContent)&&void 0!==l?l:nC,H={style:L,className:F,children:(0,a.jsx)(W,{date:t,displayMonth:n,activeModifiers:u}),role:"gridcell"},K=c.focusTarget&&tV(c.focusTarget,t)&&!u.outside,z=c.focusedDay&&tV(c.focusedDay,t),U=t9(t9(t9({},H),((o={disabled:u.disabled,role:"gridcell"})["aria-selected"]=u.selected,o.tabIndex=z||K?0:-1,o)),{onClick:function(e){var n,r,a,o;nn(p)?null===(n=f.onDayClick)||void 0===n||n.call(f,t,u,e):ne(p)?null===(r=m.onDayClick)||void 0===r||r.call(m,t,u,e):nt(p)?null===(a=h.onDayClick)||void 0===a||a.call(h,t,u,e):null===(o=p.onDayClick)||void 0===o||o.call(p,t,u,e)},onFocus:function(e){var n;j(t),null===(n=p.onDayFocus)||void 0===n||n.call(p,t,u,e)},onBlur:function(e){var n;w(),null===(n=p.onDayBlur)||void 0===n||n.call(p,t,u,e)},onKeyDown:function(e){var n;switch(e.key){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),"rtl"===p.dir?x():y();break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),"rtl"===p.dir?y():x();break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),g();break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),b();break;case"PageUp":e.preventDefault(),e.stopPropagation(),e.shiftKey?_():N();break;case"PageDown":e.preventDefault(),e.stopPropagation(),e.shiftKey?S():k();break;case"Home":e.preventDefault(),e.stopPropagation(),C();break;case"End":e.preventDefault(),e.stopPropagation(),D()}null===(n=p.onDayKeyDown)||void 0===n||n.call(p,t,u,e)},onKeyUp:function(e){var n;null===(n=p.onDayKeyUp)||void 0===n||n.call(p,t,u,e)},onMouseEnter:function(e){var n;null===(n=p.onDayMouseEnter)||void 0===n||n.call(p,t,u,e)},onMouseLeave:function(e){var n;null===(n=p.onDayMouseLeave)||void 0===n||n.call(p,t,u,e)},onPointerEnter:function(e){var n;null===(n=p.onDayPointerEnter)||void 0===n||n.call(p,t,u,e)},onPointerLeave:function(e){var n;null===(n=p.onDayPointerLeave)||void 0===n||n.call(p,t,u,e)},onTouchCancel:function(e){var n;null===(n=p.onDayTouchCancel)||void 0===n||n.call(p,t,u,e)},onTouchEnd:function(e){var n;null===(n=p.onDayTouchEnd)||void 0===n||n.call(p,t,u,e)},onTouchMove:function(e){var n;null===(n=p.onDayTouchMove)||void 0===n||n.call(p,t,u,e)},onTouchStart:function(e){var n;null===(n=p.onDayTouchStart)||void 0===n||n.call(p,t,u,e)}}),{isButton:T,isHidden:B,activeModifiers:u,selectedDays:E,buttonProps:U,divProps:H});return G.isHidden?(0,a.jsx)("div",{role:"gridcell"}):G.isButton?(0,a.jsx)(nb,t9({name:"day",ref:Y},G.buttonProps)):(0,a.jsx)("div",t9({},G.divProps))}function n4(e){var t=e.number,n=e.dates,r=nl(),o=r.onWeekNumberClick,s=r.styles,i=r.classNames,l=r.locale,d=r.labels.labelWeekNumber,c=(0,r.formatters.formatWeekNumber)(Number(t),{locale:l});if(!o)return(0,a.jsx)("span",{className:i.weeknumber,style:s.weeknumber,children:c});var u=d(Number(t),{locale:l});return(0,a.jsx)(nb,{name:"week-number","aria-label":u,className:i.weeknumber,style:s.weeknumber,onClick:function(e){o(t,n,e)},children:c})}function n5(e){var t,n,r,o=nl(),s=o.styles,i=o.classNames,l=o.showWeekNumber,d=o.components,c=null!==(t=null==d?void 0:d.Day)&&void 0!==t?t:n2,u=null!==(n=null==d?void 0:d.WeekNumber)&&void 0!==n?n:n4;return l&&(r=(0,a.jsx)("td",{className:i.cell,style:s.cell,children:(0,a.jsx)(u,{number:e.weekNumber,dates:e.dates})})),(0,a.jsxs)("tr",{className:i.row,style:s.row,children:[r,e.dates.map(function(t){return(0,a.jsx)("td",{className:i.cell,style:s.cell,role:"presentation",children:(0,a.jsx)(c,{displayMonth:e.displayMonth,date:t})},Math.trunc(+(0,tI.a)(t)/1e3))})]})}function n8(e,t,n){for(var r=(null==n?void 0:n.ISOWeek)?t2(t):t1(t,n),a=(null==n?void 0:n.ISOWeek)?(0,tY.b)(e):(0,tG.k)(e,n),o=(0,tX.m)(r,a),s=[],i=0;i<=o;i++)s.push(tq(a,i));return s.reduce(function(e,t){var r=(null==n?void 0:n.ISOWeek)?(0,t4.s)(t):(0,t5.N)(t,n),a=e.find(function(e){return e.weekNumber===r});return a?a.dates.push(t):e.push({weekNumber:r,dates:[t]}),e},[])}function n6(e){var t,n,r,o=nl(),s=o.locale,i=o.classNames,l=o.styles,d=o.hideHead,c=o.fixedWeeks,u=o.components,p=o.weekStartsOn,f=o.firstWeekContainsDate,m=o.ISOWeek,h=function(e,t){var n=n8(tE(e),tT(e),t);if(null==t?void 0:t.useFixedWeeks){var r=function(e,t){let n=(0,tI.a)(e,t?.in);return function(e,t,n){let[r,a]=(0,tF.x)(n?.in,e,t),o=(0,tG.k)(r,n),s=(0,tG.k)(a,n);return Math.round((+o-(0,t8.G)(o)-(+s-(0,t8.G)(s)))/t6.my)}(function(e,t){let n=(0,tI.a)(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(0,0,0,0),(0,tI.a)(n,t?.in)}(n,t),tE(n,t),t)+1}(e,t);if(r<6){var a=n[n.length-1],o=a.dates[a.dates.length-1],s=tZ(o,6-r),i=n8(tZ(o,1),s,t);n.push.apply(n,i)}}return n}(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:m,locale:s,weekStartsOn:p,firstWeekContainsDate:f}),v=null!==(t=null==u?void 0:u.Head)&&void 0!==t?t:nS,x=null!==(n=null==u?void 0:u.Row)&&void 0!==n?n:n5,y=null!==(r=null==u?void 0:u.Footer)&&void 0!==r?r:nk;return(0,a.jsxs)("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&(0,a.jsx)(v,{}),(0,a.jsx)("tbody",{className:i.tbody,style:l.tbody,children:h.map(function(t){return(0,a.jsx)(x,{displayMonth:e.displayMonth,dates:t.dates,weekNumber:t.weekNumber},t.weekNumber)})}),(0,a.jsx)(y,{displayMonth:e.displayMonth})]})}var n3="undefined"!=typeof window&&window.document&&window.document.createElement?s.useLayoutEffect:s.useEffect,n9=!1,n7=0;function re(){return"react-day-picker-".concat(++n7)}function rt(e){var t,n,r,o,i,l,d,c,u=nl(),p=u.dir,f=u.classNames,m=u.styles,h=u.components,v=nv().displayMonths,x=(r=null!=(t=u.id?"".concat(u.id,"-").concat(e.displayIndex):void 0)?t:n9?re():null,i=(o=(0,s.useState)(r))[0],l=o[1],n3(function(){null===i&&l(re())},[]),(0,s.useEffect)(function(){!1===n9&&(n9=!0)},[]),null!==(n=null!=t?t:i)&&void 0!==n?n:void 0),y=u.id?"".concat(u.id,"-grid-").concat(e.displayIndex):void 0,g=[f.month],b=m.month,w=0===e.displayIndex,j=e.displayIndex===v.length-1,N=!w&&!j;"rtl"===p&&(j=(d=[w,j])[0],w=d[1]),w&&(g.push(f.caption_start),b=t9(t9({},b),m.caption_start)),j&&(g.push(f.caption_end),b=t9(t9({},b),m.caption_end)),N&&(g.push(f.caption_between),b=t9(t9({},b),m.caption_between));var k=null!==(c=null==h?void 0:h.Caption)&&void 0!==c?c:nN;return(0,a.jsxs)("div",{className:g.join(" "),style:b,children:[(0,a.jsx)(k,{id:x,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,a.jsx)(n6,{id:y,"aria-labelledby":x,displayMonth:e.displayMonth})]},e.displayIndex)}function rn(e){var t=nl(),n=t.classNames,r=t.styles;return(0,a.jsx)("div",{className:n.months,style:r.months,children:e.children})}function rr(e){var t,n,r=e.initialProps,o=nl(),i=nJ(),l=nv(),d=(0,s.useState)(!1),c=d[0],u=d[1];(0,s.useEffect)(function(){o.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[o.initialFocus,c,i.focus,i.focusTarget,i]);var p=[o.classNames.root,o.className];o.numberOfMonths>1&&p.push(o.classNames.multiple_months),o.showWeekNumber&&p.push(o.classNames.with_weeknumber);var f=t9(t9({},o.styles.root),o.style),m=Object.keys(r).filter(function(e){return e.startsWith("data-")}).reduce(function(e,t){var n;return t9(t9({},e),((n={})[t]=r[t],n))},{}),h=null!==(n=null===(t=r.components)||void 0===t?void 0:t.Months)&&void 0!==n?n:rn;return(0,a.jsx)("div",t9({className:p.join(" "),style:f,dir:o.dir,id:o.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:(0,a.jsx)(h,{children:l.displayMonths.map(function(e,t){return(0,a.jsx)(rt,{displayIndex:t,displayMonth:e},t)})})}))}function ra(e){var t=e.children,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}(e,["children"]);return(0,a.jsx)(ni,{initialProps:n,children:(0,a.jsx)(nh,{children:(0,a.jsx)(nQ,{initialProps:n,children:(0,a.jsx)(nM,{initialProps:n,children:(0,a.jsx)(nE,{initialProps:n,children:(0,a.jsx)(nG,{children:(0,a.jsx)(nX,{children:t})})})})})})})}function ro(e){return(0,a.jsx)(ra,t9({},e,{children:(0,a.jsx)(rr,{initialProps:e})}))}function rs({className:e,classNames:t,showOutsideDays:n=!0,...r}){return(0,a.jsx)(ro,{showOutsideDays:n,className:(0,eZ.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:(0,eZ.cn)((0,f.r)({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:(0,eZ.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md","range"===r.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:(0,eZ.cn)((0,f.r)({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:e,...t})=>(0,a.jsx)(tM,{className:(0,eZ.cn)("size-4",e),...t}),IconRight:({className:e,...t})=>(0,a.jsx)(tP.A,{className:(0,eZ.cn)("size-4",e),...t})},...r})}let ri=(0,eV.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var rl=n(78659);let rd=d.Ik({description:d.Yj().min(1,"Description is required"),amount:d.Yj().min(1,"Amount is required").refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>0,{message:"Amount must be a positive number"}),category:d.Yj().optional(),date:d.p6(),paidByUserId:d.Yj().min(1,"Payer is required"),splitType:d.k5(["equal","percentage","exact"]),groupId:d.Yj().optional()});function rc({type:e="individual",onSuccess:t}){let[n,r]=(0,s.useState)([]),[o,d]=(0,s.useState)(new Date),[x,y]=(0,s.useState)(null),[g,b]=(0,s.useState)([]),{data:w}=(0,u.T)(c.FH.users.getCurrentUser),k=(0,u._)(c.FH.expenses.createExpense),_=(0,rl.QU)(),{register:S,handleSubmit:C,setValue:D,watch:M,reset:P,formState:{errors:A,isSubmitting:I}}=(0,i.mN)({resolver:(0,l.u)(rd),defaultValues:{description:"",amount:"",category:"",date:new Date,paidByUserId:w?._id||"",splitType:"equal",groupId:void 0}}),E=M("amount"),T=M("paidByUserId"),R=async r=>{try{let a=parseFloat(r.amount),o=g.map(e=>({userId:e.userId,amount:e.amount,paid:e.userId===r.paidByUserId})),s=o.reduce((e,t)=>e+t.amount,0);if(Math.abs(s-a)>.01){v.o.error("Split amounts don't add up to the total. Please adjust your splits.");return}let i="individual"===e?void 0:r.groupId;await k.mutate({description:r.description,amount:a,category:r.category||"Other",date:r.date.getTime(),paidByUserId:r.paidByUserId,splitType:r.splitType,splits:o,groupId:i}),v.o.success("Expense created successfully!"),P();let l=n.find(e=>e.id!==w._id),d=l?.id;t&&t("individual"===e?d:i)}catch(e){v.o.error("Failed to create expense: "+e.message)}};return w?(0,a.jsxs)("form",{onSubmit:C(R),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{htmlFor:"description",children:"Description"}),(0,a.jsx)(p.p,{id:"description",placeholder:"Lunch, movie tickets, etc.",...S("description")}),A.description&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:A.description.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{htmlFor:"amount",children:"Amount"}),(0,a.jsx)(p.p,{id:"amount",placeholder:"0.00",type:"number",step:"0.01",min:"0.01",...S("amount")}),A.amount&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:A.amount.message})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{htmlFor:"category",children:"Category"}),(0,a.jsx)(e3,{categories:_||[],onChange:e=>{e&&D("category",e)}})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{children:"Date"}),(0,a.jsxs)(j.AM,{children:[(0,a.jsx)(j.Wv,{asChild:!0,children:(0,a.jsxs)(f.$,{variant:"outline",className:(0,eZ.cn)("w-full justify-start text-left font-normal",!o&&"text-muted-foreground"),children:[(0,a.jsx)(ri,{className:"mr-2 h-4 w-4"}),o?(0,tA.GP)(o,"PPP"):(0,a.jsx)("span",{children:"Pick a date"})]})}),(0,a.jsx)(j.hl,{className:"w-auto p-0",children:(0,a.jsx)(rs,{mode:"single",selected:o,onSelect:e=>{d(e),D("date",e)},initialFocus:!0})})]})]})]}),"group"===e&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{children:"Group"}),(0,a.jsx)(e6,{onChange:e=>{(!x||x.id!==e.id)&&(y(e),D("groupId",e.id),e.members&&Array.isArray(e.members)&&r(e.members))}}),!x&&(0,a.jsx)("p",{className:"text-xs text-amber-600",children:"Please select a group to continue"})]}),"individual"===e&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{children:"Participants"}),(0,a.jsx)(N,{participants:n,onParticipantsChange:r}),n.length<=1&&(0,a.jsx)("p",{className:"text-xs text-amber-600",children:"Please add at least one other participant"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{children:"Paid by"}),(0,a.jsxs)("select",{className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",...S("paidByUserId"),children:[(0,a.jsx)("option",{value:"",children:"Select who paid"}),n.map(e=>(0,a.jsx)("option",{value:e.id,children:e.id===w._id?"You":e.name},e.id))]}),A.paidByUserId&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:A.paidByUserId.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{children:"Split type"}),(0,a.jsxs)(h.tU,{defaultValue:"equal",onValueChange:e=>D("splitType",e),children:[(0,a.jsxs)(h.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(h.Xi,{value:"equal",children:"Equal"}),(0,a.jsx)(h.Xi,{value:"percentage",children:"Percentage"}),(0,a.jsx)(h.Xi,{value:"exact",children:"Exact Amounts"})]}),(0,a.jsxs)(h.av,{value:"equal",className:"pt-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Split equally among all participants"}),(0,a.jsx)(tD,{type:"equal",amount:parseFloat(E)||0,participants:n,paidByUserId:T,onSplitsChange:b})]}),(0,a.jsxs)(h.av,{value:"percentage",className:"pt-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Split by percentage"}),(0,a.jsx)(tD,{type:"percentage",amount:parseFloat(E)||0,participants:n,paidByUserId:T,onSplitsChange:b})]}),(0,a.jsxs)(h.av,{value:"exact",className:"pt-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Enter exact amounts"}),(0,a.jsx)(tD,{type:"exact",amount:parseFloat(E)||0,participants:n,paidByUserId:T,onSplitsChange:b})]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(f.$,{type:"submit",disabled:I||n.length<=1,children:I?"Creating...":"Create Expense"})})]}):null}var ru=n(84414);function rp(){let e=(0,o.useRouter)();return(0,a.jsxs)("div",{className:"container max-w-3xl mx-auto py-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-5xl gradient-title",children:"Add a new expense"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Record a new expense to split with others"})]}),(0,a.jsx)(ru.Zp,{children:(0,a.jsx)(ru.Wu,{children:(0,a.jsxs)(h.tU,{className:"pb-3",defaultValue:"individual",children:[(0,a.jsxs)(h.j7,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(h.Xi,{value:"individual",children:"Individual Expense"}),(0,a.jsx)(h.Xi,{value:"group",children:"Group Expense"})]}),(0,a.jsx)(h.av,{value:"individual",className:"mt-0",children:(0,a.jsx)(rc,{type:"individual",onSuccess:t=>e.push(`/person/${t}`)})}),(0,a.jsx)(h.av,{value:"group",className:"mt-0",children:(0,a.jsx)(rc,{type:"group",onSuccess:t=>e.push(`/groups/${t}`)})})]})})})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},55712:(e,t,n)=>{Promise.resolve().then(n.bind(n,28398))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68864:(e,t,n)=>{Promise.resolve().then(n.bind(n,89689))},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},78659:(e,t,n)=>{"use strict";n.d(t,{$s:()=>S,QU:()=>C,q1:()=>D});var r=n(94577),a=n(13166),o=n(28561),s=n(71057),i=n(19930),l=n(94478),d=n(32192),c=n(28440),u=n(86594),p=n(87891),f=n(7569),m=n(27351),h=n(60137),v=n(67760),x=n(80428),y=n(17581),g=n(85778),b=n(42238),w=n(85303),j=n(8403),N=n(93661),k=n(23928);let _={foodDrink:{id:"foodDrink",name:"Food & Drink",icon:r.A},coffee:{id:"coffee",name:"Coffee",icon:a.A},groceries:{id:"groceries",name:"Groceries",icon:o.A},shopping:{id:"shopping",name:"Shopping",icon:s.A},travel:{id:"travel",name:"Travel",icon:i.A},transportation:{id:"transportation",name:"Transportation",icon:l.A},housing:{id:"housing",name:"Housing",icon:d.A},entertainment:{id:"entertainment",name:"Entertainment",icon:c.A},tickets:{id:"tickets",name:"Tickets",icon:u.A},utilities:{id:"utilities",name:"Utilities",icon:p.A},water:{id:"water",name:"Water",icon:f.A},education:{id:"education",name:"Education",icon:m.A},health:{id:"health",name:"Health",icon:h.A},personal:{id:"personal",name:"Personal",icon:v.A},gifts:{id:"gifts",name:"Gifts",icon:x.A},technology:{id:"technology",name:"Technology",icon:y.A},bills:{id:"bills",name:"Bills & Fees",icon:g.A},baby:{id:"baby",name:"Baby & Kids",icon:b.A},music:{id:"music",name:"Music",icon:w.A},books:{id:"books",name:"Books",icon:j.A},other:{id:"other",name:"Other",icon:N.A},general:{id:"general",name:"General Expense",icon:k.A}},S=e=>_[e]||_.other,C=()=>Object.values(_),D=e=>S(e).icon},79551:e=>{"use strict";e.exports=require("url")},83721:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(43210);function a(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},89689:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vdk.codes/Desktop/SharePay Assets/share-pay/app/(main)/expenses/new/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vdk.codes/Desktop/SharePay Assets/share-pay/app/(main)/expenses/new/page.jsx","default")},91168:(e,t,n)=>{"use strict";n.d(t,{Xi:()=>l,av:()=>d,j7:()=>i,tU:()=>s});var r=n(60687);n(43210);var a=n(55146),o=n(93895);function s({className:e,...t}){return(0,r.jsx)(a.bL,{"data-slot":"tabs",className:(0,o.cn)("flex flex-col gap-2",e),...t})}function i({className:e,...t}){return(0,r.jsx)(a.B8,{"data-slot":"tabs-list",className:(0,o.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function l({className:e,...t}){return(0,r.jsx)(a.l9,{"data-slot":"tabs-trigger",className:(0,o.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function d({className:e,...t}){return(0,r.jsx)(a.UC,{"data-slot":"tabs-content",className:(0,o.cn)("flex-1 outline-none",e),...t})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[719,190,135,658,356,942,789,824,648,653,606],()=>n(24959));module.exports=r})();